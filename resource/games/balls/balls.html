<HTML><HEAD><TITLE>跳龙门</TITLE>
<META content="text/html; charset=gb2312" http-equiv=Content-Type>
</HEAD>
<BODY onload="javascript:fly();" bgcolor="000000" width=750 height=600 >
<h2 style="color:red" >跳龙门</h2>
<P align=center>
<BR><table width=800 height=500><tr><td></td></tr></table>
<DIV style="position:absolute;top:93;left:224;width:338;height:236;" bgcolor="EEEEEE">
	<table width=100% height=100% bgcolor=EEEEEE>
		<tr><td align=center>

			小球碰撞<br>
			假设：<br>
			小球质量相等<br>
			在同一个平面<br>
			有重力<br>
			没有摩擦力<br>

			所有磁撞是刚性磁撞<br>
			有时会出现两小球粘在一起的现象是由于当初没有考虑全面，不果效果不错，也懒得改它<br>
			<br>
			<font color=EEEEEE>JK祝您快乐</font><br>
			<a href=snow.htm>到飞雪</a>
		</td></tr>
	</table>

</DIV>
<div id=ballsCtn>
<DIV style=" POSITION: absolute; Z-INDEX: 1"><font color=ffffff size=+2></font></DIV>
<DIV style=" POSITION: absolute; Z-INDEX: 1"><font color=red size=+2></font></DIV>
<DIV style=" POSITION: absolute; Z-INDEX: 1"><font color=blue size=+2></font></DIV>
<DIV style=" POSITION: absolute; Z-INDEX: 1"><font color=gree size=+2></font></DIV>
<DIV style=" POSITION: absolute; Z-INDEX: 1"><font color=yellow size=+2></font></DIV>
<DIV style=" POSITION: absolute; Z-INDEX: 1"><font color=ff00ff size=+2></font></DIV>
<DIV style=" POSITION: absolute; Z-INDEX: 1"><font color=00ffff size=+2></font></DIV>
<DIV style=" POSITION: absolute; Z-INDEX: 1"><font color=ffff00 size=+2></font></DIV>
<DIV style=" POSITION: absolute; Z-INDEX: 1"><font color=f00fff size=+2></font></DIV>
<DIV style=" POSITION: absolute; Z-INDEX: 1"><font color=0fff0f size=+2></font></DIV>
</div>

<SCRIPT language=javascript>
var ax=new Array(20,60,10,60,260,300,340,380,420,460);
var ay=new Array(60,20,90,9,400,400,400,400,400,400);
var bx=new Array(2.3,6,2.9,5.3,3,3,3,3,3,3);
var by=new Array(3,4.1,2.7,2.3,4,4,4,4,4,4);
var cx=new Array(0,0);
var cy=new Array(0,0);
function fly()
{
	for(i=0;i<10;i++)//处理互相碰撞
	{
		for (j=0;j<i;j++)
		{
			if(((ax[i]-ax[j])*(ax[i]-ax[j])+(ay[i]-ay[j])*(ay[i]-ay[j]))<400)
			{
				var jkrad=Math.sqrt(((ax[i]-ax[j])*(ax[i]-ax[j])+(ay[i]-ay[j])*(ay[i]-ay[j])))
				var jksin=(ay[i]-ay[j])/jkrad;
				var jkcos=(ax[i]-ax[j])/jkrad;

				cx[0]=bx[i]*jkcos+by[i]*jksin;
				cy[0]=-bx[i]*jksin+by[i]*jkcos;
				cx[1]=bx[j]*jkcos+by[j]*jksin;
				cy[1]=-bx[j]*jksin+by[j]*jkcos;
				bx[i]=cx[1]*jkcos-cy[0]*jksin;
				by[i]=cx[1]*jksin+cy[0]*jkcos;
				bx[j]=cx[0]*jkcos-cy[1]*jksin;
				by[j]=cx[0]*jksin+cy[1]*jkcos;
			}
		}
	}
	for(i=0;i<10;i++)//处理与障碍物的碰撞
	{

		ax[i]=ax[i]+bx[i];
		ay[i]=ay[i]+by[i];
		by[i]=by[i]+0.2;
		if ((Math.abs(ax[i]-365)>360)&&(((ax[i]-365)*bx[i])>0)||(Math.abs(ay[i]-200)<125)&&(Math.abs(ax[i]+bx[i]-380)<176)) bx[i]=-bx[i];
		if ((Math.abs(ay[i]-210)>205)&&(((ay[i]-210)*by[i])>0)||(Math.abs(ax[i]-380)<176)&&(Math.abs(ay[i]+by[i]-200)<125)) {by[i]=by[i]-0.2;by[i]=-by[i];}	
		ball[i].style.left=ax[i];
		ball[i].style.top=ay[i];

	}
	setTimeout("fly();",40);
}
window.ball=document.getElementById('ballsCtn').getElementsByTagName("div");
</SCRIPT>
</BODY></HTML>